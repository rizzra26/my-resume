import w from"./Icon.80fc5aa0.js";import{f as L,q as t,s as U,i as n,v as E,r as K,j as P,x as N,J as d,o as I,c as y,a as D,G as H,C as b,A as c,K as $,b as k}from"./entry.66808c07.js";import{u as Q}from"./useFormGroup.8a63fcfc.js";import{_ as R}from"./_plugin-vue_export-helper.c27b6911.js";import{o as X}from"./omit.2383c4bc.js";import"./index.c111b088.js";import"./_Uint8Array.6f9c1fd4.js";const Y=L({components:{UIcon:w},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>t.ui.input.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:()=>t.ui.input.default.size,validator(e){return Object.keys(t.ui.input.size).includes(e)}},color:{type:String,default:()=>t.ui.input.default.color,validator(e){return[...t.ui.colors,...Object.keys(t.ui.input.color)].includes(e)}},variant:{type:String,default:()=>t.ui.input.default.variant,validator(e){return[...Object.keys(t.ui.input.variant),...Object.values(t.ui.input.color).flatMap(i=>Object.keys(i))].includes(e)}},inputClass:{type:String,default:null},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","blur"],setup(e,{emit:i,attrs:f,slots:m}){const g=U(),a=n(()=>E({},e.ui,g.ui.input)),{emitFormBlur:p,emitFormInput:s,formGroup:u}=Q(),r=n(()=>{var l;return(l=u==null?void 0:u.error)!=null&&l.value?"red":e.color}),o=n(()=>{var l;return((l=u==null?void 0:u.size)==null?void 0:l.value)??e.size}),C=K(null),j=()=>{var l;e.autofocus&&((l=C.value)==null||l.focus())},V=l=>{i("update:modelValue",l.target.value),s()},A=l=>{p(),i("blur",l)};P(()=>{setTimeout(()=>{j()},100)});const O=n(()=>N(a.value.wrapper,f.class)),q=n(()=>{var S,z;const l=((z=(S=a.value.color)==null?void 0:S[r.value])==null?void 0:z[e.variant])||a.value.variant[e.variant];return N(d(a.value.base,a.value.rounded,a.value.placeholder,a.value.size[o.value],e.padded?a.value.padding[o.value]:"p-0",l==null?void 0:l.replaceAll("{color}",r.value),(v.value||m.leading)&&a.value.leading.padding[o.value],(B.value||m.trailing)&&a.value.trailing.padding[o.value]),e.inputClass)}),v=n(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),B=n(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),h=n(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),F=n(()=>e.loading&&!v.value?e.loadingIcon:e.trailingIcon||e.icon),M=n(()=>d(a.value.icon.leading.wrapper,a.value.icon.leading.pointer,a.value.icon.leading.padding[o.value])),T=n(()=>d(a.value.icon.base,g.ui.colors.includes(r.value)&&a.value.icon.color.replaceAll("{color}",r.value),a.value.icon.size[o.value],e.loading&&"animate-spin")),W=n(()=>d(a.value.icon.trailing.wrapper,a.value.icon.trailing.pointer,a.value.icon.trailing.padding[o.value])),J=n(()=>d(a.value.icon.base,g.ui.colors.includes(r.value)&&a.value.icon.color.replaceAll("{color}",r.value),a.value.icon.size[o.value],e.loading&&!v.value&&"animate-spin"));return{attrs:X(f,["class"]),ui:a,input:C,isLeading:v,isTrailing:B,wrapperClass:O,inputClass:q,leadingIconName:h,leadingIconClass:T,leadingWrapperIconClass:M,trailingIconName:F,trailingIconClass:J,trailingWrapperIconClass:W,onInput:V,onBlur:A}}}),Z=["name","value","type","required","placeholder","disabled"];function G(e,i,f,m,g,a){const p=w;return I(),y("div",{class:c(e.wrapperClass)},[D("input",H({ref:"input",name:e.name,value:e.modelValue,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled||e.loading,class:["form-input",e.inputClass]},e.attrs,{onInput:i[0]||(i[0]=(...s)=>e.onInput&&e.onInput(...s)),onBlur:i[1]||(i[1]=(...s)=>e.onBlur&&e.onBlur(...s))}),null,16,Z),b(e.$slots,"default"),e.isLeading&&e.leadingIconName||e.$slots.leading?(I(),y("span",{key:0,class:c(e.leadingWrapperIconClass)},[b(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[k(p,{name:e.leadingIconName,class:c(e.leadingIconClass)},null,8,["name","class"])])],2)):$("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(I(),y("span",{key:1,class:c(e.trailingWrapperIconClass)},[b(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[k(p,{name:e.trailingIconName,class:c(e.trailingIconClass)},null,8,["name","class"])])],2)):$("",!0)],2)}const te=R(Y,[["render",G]]);export{te as default};
