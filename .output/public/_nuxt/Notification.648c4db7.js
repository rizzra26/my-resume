import j from"./Icon.80fc5aa0.js";import P from"./Avatar.435434ed.js";import q from"./Button.6a6c66ab.js";import{r as D,i as C,f as F,q as B,s as O,v as V,x as E,J as A,j as I,l as J,k as L,o as s,B as g,w as R,a as d,G as k,A as m,K as f,C as S,d as T,t as U,c as y,F as z,z as N,L as h,R as G,T as K}from"./entry.66808c07.js";import{d as H}from"./index.7b010e4a.js";import{_ as Q}from"./_plugin-vue_export-helper.c27b6911.js";import{o as W}from"./omit.2383c4bc.js";import"./_Uint8Array.6f9c1fd4.js";import"./Link.d12fb4d4.js";import"./nuxt-link.e9352679.js";import"./_baseIsEqual.edd4b790.js";import"./index.c111b088.js";function X(e,r,w){let l=null;const{pause:n,resume:t,timestamp:p}=H({...w||{},controls:!0}),a=D(null),u=C(()=>a.value?r-(p.value-a.value):0);function o(...i){l=setTimeout(()=>{l=null,a.value=null,e(...i)},u.value)}function c(){l&&(clearTimeout(l),l=null)}function v(){a.value=Date.now(),o()}function b(){c(),n()}function $(){c(),n()}function M(){o(),t(),a.value=(a.value||0)+(Date.now()-p.value)}return v(),{start:v,stop:b,pause:$,resume:M,remaining:u}}const Y=F({components:{UIcon:j,UAvatar:P,UButton:q},inheritAttrs:!1,props:{id:{type:[String,Number],required:!0},title:{type:String,required:!0},description:{type:String,default:null},icon:{type:String,default:()=>B.ui.notification.default.icon},avatar:{type:Object,default:null},closeButton:{type:Object,default:()=>B.ui.notification.default.closeButton},timeout:{type:Number,default:5e3},actions:{type:Array,default:()=>[]},callback:{type:Function,default:null},color:{type:String,default:()=>B.ui.notification.default.color,validator(e){return["gray",...B.ui.colors].includes(e)}},ui:{type:Object,default:()=>({})}},emits:["close"],setup(e,{attrs:r,emit:w}){const l=O(),n=C(()=>V({},e.ui,l.ui.notification));let t=null;const p=D(e.timeout),a=C(()=>E(A(n.value.wrapper,n.value.background,n.value.rounded,n.value.shadow),r.class)),u=C(()=>{var i;return A(n.value.progress.base,(i=n.value.progress.background)==null?void 0:i.replaceAll("{color}",e.color))}),o=C(()=>({width:`${p.value/e.timeout*100||0}%`})),c=C(()=>{var i;return A(n.value.icon.base,(i=n.value.icon.color)==null?void 0:i.replaceAll("{color}",e.color))});function v(){t&&t.pause()}function b(){t&&t.resume()}function $(){t&&t.stop(),e.callback&&e.callback(),w("close")}function M(i){t&&t.stop(),i.click&&i.click(),w("close")}return I(()=>{e.timeout&&(t=X(()=>{$()},e.timeout),J(()=>{p.value=t.remaining.value}))}),L(()=>{t&&t.stop()}),{attrs:W(r,["class"]),ui:n,wrapperClass:a,progressClass:u,progressStyle:o,iconClass:c,onMouseover:v,onMouseleave:b,onClose:$,onAction:M}}}),Z={class:"w-0 flex-1"},_={key:1,class:"mt-3 flex items-center gap-2"},x={class:"flex-shrink-0 flex items-center gap-3"},ee={key:0,class:"flex items-center gap-2"};function te(e,r,w,l,n,t){const p=j,a=P,u=q;return s(),g(K,k({appear:""},e.ui.transition),{default:R(()=>[d("div",k({class:e.wrapperClass},e.attrs,{onMouseover:r[0]||(r[0]=(...o)=>e.onMouseover&&e.onMouseover(...o)),onMouseleave:r[1]||(r[1]=(...o)=>e.onMouseleave&&e.onMouseleave(...o))}),[d("div",{class:m([e.ui.container,e.ui.rounded,e.ui.ring])},[d("div",{class:m(e.ui.padding)},[d("div",{class:m(["flex gap-3",{"items-start":e.description||e.$slots.description,"items-center":!e.description&&!e.$slots.description}])},[e.icon?(s(),g(p,{key:0,name:e.icon,class:m(e.iconClass)},null,8,["name","class"])):f("",!0),e.avatar?(s(),g(a,k({key:1},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):f("",!0),d("div",Z,[d("p",{class:m(e.ui.title)},[S(e.$slots,"title",{title:e.title},()=>[T(U(e.title),1)])],2),e.description||e.$slots.description?(s(),y("p",{key:0,class:m(e.ui.description)},[S(e.$slots,"description",{description:e.description},()=>[T(U(e.description),1)])],2)):f("",!0),(e.description||e.$slots.description)&&e.actions.length?(s(),y("div",_,[(s(!0),y(z,null,N(e.actions,(o,c)=>(s(),g(u,k({key:c},{...e.ui.default.actionButton,...o},{onClick:h(v=>e.onAction(o),["stop"])}),null,16,["onClick"]))),128))])):f("",!0)]),d("div",x,[!e.description&&!e.$slots.description&&e.actions.length?(s(),y("div",ee,[(s(!0),y(z,null,N(e.actions,(o,c)=>(s(),g(u,k({key:c},{...e.ui.default.actionButton,...o},{onClick:h(v=>e.onAction(o),["stop"])}),null,16,["onClick"]))),128))])):f("",!0),e.closeButton?(s(),g(u,k({key:1},{...e.ui.default.closeButton,...e.closeButton},{onClick:h(e.onClose,["stop"])}),null,16,["onClick"])):f("",!0)])],2)],2),e.timeout?(s(),y("div",{key:0,class:m(e.progressClass),style:G(e.progressStyle)},null,6)):f("",!0)],2)],16)]),_:3},16)}const fe=Q(Y,[["render",te]]);export{fe as default};
