import B from"./Icon.80fc5aa0.js";import{f as A,m as O,i as l,r as T,j as L,n as M,O as k,F as N,q as g,s as P,v as U,x as G,J as b,y as J,o as C,B as R,w as q,a as z,A as m,c as w,b as S,K as I,G as Q}from"./entry.66808c07.js";import{u as W}from"./useFormGroup.8a63fcfc.js";import{_ as X}from"./_plugin-vue_export-helper.c27b6911.js";import{t as Y,o as Z,K as _,H as x,T as ee,a as V}from"./dom.fe5c7340.js";import{b as ae}from"./use-resolve-button-type.f3369464.js";import{f as oe,a as te}from"./hidden.7bbe89e6.js";import{d as le,p as ne}from"./use-controllable.b4046a6e.js";import{o as se}from"./omit.2383c4bc.js";import"./index.c111b088.js";import"./_Uint8Array.6f9c1fd4.js";let re=Symbol("GroupContext"),ie=A({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${Y()}`}},inheritAttrs:!1,setup(e,{emit:d,attrs:i,slots:f,expose:t}){let n=O(re,null),[o,s]=le(l(()=>e.modelValue),a=>d("update:modelValue",a),l(()=>e.defaultChecked));function u(){s(!o.value)}let y=T(null),c=n===null?y:n.switchRef,h=ae(l(()=>({as:e.as,type:i.type})),c);t({el:c,$el:c});function p(a){a.preventDefault(),u()}function $(a){a.key===V.Space?(a.preventDefault(),u()):a.key===V.Enter&&ne(a.currentTarget)}function E(a){a.preventDefault()}let v=l(()=>{var a,r;return(r=(a=Z(c))==null?void 0:a.closest)==null?void 0:r.call(a,"form")});return L(()=>{M([v],()=>{if(!v.value||e.defaultChecked===void 0)return;function a(){s(e.defaultChecked)}return v.value.addEventListener("reset",a),()=>{var r;(r=v.value)==null||r.removeEventListener("reset",a)}},{immediate:!0})}),()=>{let{id:a,name:r,value:H,form:K,...j}=e,D={checked:o.value},F={id:a,ref:c,role:"switch",type:h.value,tabIndex:0,"aria-checked":o.value,"aria-labelledby":n==null?void 0:n.labelledby.value,"aria-describedby":n==null?void 0:n.describedby.value,onClick:p,onKeyup:$,onKeypress:E};return k(N,[r!=null&&o.value!=null?k(oe,_({features:te.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:o.value,form:K,name:r,value:H})):null,x({ourProps:F,theirProps:{...i,...ee(j,["modelValue","defaultChecked"])},slot:D,attrs:i,slots:f,name:"Switch"})])}}});const ue=A({components:{HSwitch:ie,UIcon:B},inheritAttrs:!1,props:{name:{type:String,default:null},modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},onIcon:{type:String,default:()=>g.ui.toggle.default.onIcon},offIcon:{type:String,default:()=>g.ui.toggle.default.offIcon},color:{type:String,default:()=>g.ui.toggle.default.color,validator(e){return g.ui.colors.includes(e)}},ui:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:d,attrs:i}){const f=P(),t=l(()=>U({},e.ui,f.ui.toggle)),{emitFormChange:n,formGroup:o}=W(),s=l(()=>{var p;return(p=o==null?void 0:o.error)!=null&&p.value?"red":e.color}),u=l({get(){return e.modelValue},set(p){d("update:modelValue",p),n()}}),y=l(()=>G(b(t.value.base,t.value.rounded,t.value.ring.replaceAll("{color}",s.value),(u.value?t.value.active:t.value.inactive).replaceAll("{color}",s.value)),i.class)),c=l(()=>b(t.value.icon.on.replaceAll("{color}",s.value))),h=l(()=>b(t.value.icon.off.replaceAll("{color}",s.value)));return{attrs:se(i,["class"]),ui:t,active:u,switchClass:y,onIconClass:c,offIconClass:h}}});function ce(e,d,i,f,t,n){const o=B,s=J("HSwitch");return C(),R(s,Q({modelValue:e.active,"onUpdate:modelValue":d[0]||(d[0]=u=>e.active=u),name:e.name,disabled:e.disabled,class:e.switchClass},e.attrs),{default:q(()=>[z("span",{class:m([e.active?e.ui.container.active:e.ui.container.inactive,e.ui.container.base])},[e.onIcon?(C(),w("span",{key:0,class:m([e.active?e.ui.icon.active:e.ui.icon.inactive,e.ui.icon.base]),"aria-hidden":"true"},[S(o,{name:e.onIcon,class:m(e.onIconClass)},null,8,["name","class"])],2)):I("",!0),e.offIcon?(C(),w("span",{key:1,class:m([e.active?e.ui.icon.inactive:e.ui.icon.active,e.ui.icon.base]),"aria-hidden":"true"},[S(o,{name:e.offIcon,class:m(e.offIconClass)},null,8,["name","class"])],2)):I("",!0)],2)]),_:1},16,["modelValue","name","disabled","class"])}const we=X(ue,[["render",ce]]);export{we as default};
