import{f as x,r as y,O as G,i as g,h as U,j as B,n as ee,l as se,F as M,k as te,m as q,s as ue,v as oe,x as ie,y as H,o as C,B as D,w as E,b as K,A as O,R as de,a as V,c as J,z as Q,C as X,d as Y,t as Z,G as pe}from"./entry.66808c07.js";import{b as ve}from"./index.7b010e4a.js";import{_ as fe}from"./_plugin-vue_export-helper.c27b6911.js";import{o as h,H as z,T as ce,t as ae,N as _,u as R,a as S}from"./dom.fe5c7340.js";import{O as F,T as L,m as be,P as A,N as $}from"./focus-management.72b6de4c.js";import{b as me}from"./use-resolve-button-type.f3369464.js";import{a as he,f as le}from"./hidden.7bbe89e6.js";import{t as ge}from"./micro-task.89dcd6af.js";import{o as ye}from"./omit.2383c4bc.js";import"./index.c111b088.js";import"./_Uint8Array.6f9c1fd4.js";let Te=x({props:{onFocus:{type:Function,required:!0}},setup(e){let d=y(!0);return()=>d.value?G(le,{as:"button",type:"button",features:he.Focusable,onFocus(p){p.preventDefault();let v,n=50;function a(){var u;if(n--<=0){v&&cancelAnimationFrame(v);return}if((u=e.onFocus)!=null&&u.call(e)){d.value=!1,cancelAnimationFrame(v);return}v=requestAnimationFrame(a)}v=requestAnimationFrame(a)}}):null}});var Ie=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ie||{}),Pe=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Pe||{});let ne=Symbol("TabsContext");function N(e){let d=q(ne,null);if(d===null){let p=new Error(`<${e} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(p,N),p}return d}let W=Symbol("TabsSSRContext"),we=x({name:"TabGroup",emits:{change:e=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:d,attrs:p,emit:v}){var n;let a=y((n=e.selectedIndex)!=null?n:e.defaultIndex),u=y([]),f=y([]),c=g(()=>e.selectedIndex!==null),m=g(()=>c.value?e.selectedIndex:a.value);function i(l){var t;let r=F(s.tabs.value,h),T=F(s.panels.value,h),k=r.filter(P=>{var w;return!((w=h(P))!=null&&w.hasAttribute("disabled"))});if(l<0||l>r.length-1){let P=R(a.value===null?0:Math.sign(l-a.value),{[-1]:()=>1,0:()=>R(Math.sign(l),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),w=R(P,{0:()=>r.indexOf(k[0]),1:()=>r.indexOf(k[k.length-1])});w!==-1&&(a.value=w),s.tabs.value=r,s.panels.value=T}else{let P=r.slice(0,l),w=[...r.slice(l),...P].find(re=>k.includes(re));if(!w)return;let j=(t=r.indexOf(w))!=null?t:s.selectedIndex.value;j===-1&&(j=s.selectedIndex.value),a.value=j,s.tabs.value=r,s.panels.value=T}}let s={selectedIndex:g(()=>{var l,t;return(t=(l=a.value)!=null?l:e.defaultIndex)!=null?t:null}),orientation:g(()=>e.vertical?"vertical":"horizontal"),activation:g(()=>e.manual?"manual":"auto"),tabs:u,panels:f,setSelectedIndex(l){m.value!==l&&v("change",l),c.value||i(l)},registerTab(l){var t;if(u.value.includes(l))return;let r=u.value[a.value];u.value.push(l),u.value=F(u.value,h);let T=(t=u.value.indexOf(r))!=null?t:a.value;T!==-1&&(a.value=T)},unregisterTab(l){let t=u.value.indexOf(l);t!==-1&&u.value.splice(t,1)},registerPanel(l){f.value.includes(l)||(f.value.push(l),f.value=F(f.value,h))},unregisterPanel(l){let t=f.value.indexOf(l);t!==-1&&f.value.splice(t,1)}};U(ne,s);let o=y({tabs:[],panels:[]}),b=y(!1);B(()=>{b.value=!0}),U(W,g(()=>b.value?null:o.value));let I=g(()=>e.selectedIndex);return B(()=>{ee([I],()=>{var l;return i((l=e.selectedIndex)!=null?l:e.defaultIndex)},{immediate:!0})}),se(()=>{if(!c.value||m.value==null||s.tabs.value.length<=0)return;let l=F(s.tabs.value,h);l.some((t,r)=>h(s.tabs.value[r])!==h(t))&&s.setSelectedIndex(l.findIndex(t=>h(t)===h(s.tabs.value[m.value])))}),()=>{let l={selectedIndex:a.value};return G(M,[u.value.length<=0&&G(Te,{onFocus:()=>{for(let t of u.value){let r=h(t);if((r==null?void 0:r.tabIndex)===0)return r.focus(),!0}return!1}}),z({theirProps:{...p,...ce(e,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:l,slots:d,attrs:p,name:"TabGroup"})])}}}),Se=x({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:d,slots:p}){let v=N("TabList");return()=>{let n={selectedIndex:v.selectedIndex.value},a={role:"tablist","aria-orientation":v.orientation.value};return z({ourProps:a,theirProps:e,slot:n,attrs:d,slots:p,name:"TabList"})}}}),$e=x({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-tabs-tab-${ae()}`}},setup(e,{attrs:d,slots:p,expose:v}){let n=N("Tab"),a=y(null);v({el:a,$el:a}),B(()=>n.registerTab(a)),te(()=>n.unregisterTab(a));let u=q(W),f=g(()=>{if(u.value){let t=u.value.tabs.indexOf(e.id);return t===-1?u.value.tabs.push(e.id)-1:t}return-1}),c=g(()=>{let t=n.tabs.value.indexOf(a);return t===-1?f.value:t}),m=g(()=>c.value===n.selectedIndex.value);function i(t){var r;let T=t();if(T===L.Success&&n.activation.value==="auto"){let k=(r=be(a))==null?void 0:r.activeElement,P=n.tabs.value.findIndex(w=>h(w)===k);P!==-1&&n.setSelectedIndex(P)}return T}function s(t){let r=n.tabs.value.map(T=>h(T)).filter(Boolean);if(t.key===S.Space||t.key===S.Enter){t.preventDefault(),t.stopPropagation(),n.setSelectedIndex(c.value);return}switch(t.key){case S.Home:case S.PageUp:return t.preventDefault(),t.stopPropagation(),i(()=>A(r,$.First));case S.End:case S.PageDown:return t.preventDefault(),t.stopPropagation(),i(()=>A(r,$.Last))}if(i(()=>R(n.orientation.value,{vertical(){return t.key===S.ArrowUp?A(r,$.Previous|$.WrapAround):t.key===S.ArrowDown?A(r,$.Next|$.WrapAround):L.Error},horizontal(){return t.key===S.ArrowLeft?A(r,$.Previous|$.WrapAround):t.key===S.ArrowRight?A(r,$.Next|$.WrapAround):L.Error}}))===L.Success)return t.preventDefault()}let o=y(!1);function b(){var t;o.value||(o.value=!0,!e.disabled&&((t=h(a))==null||t.focus({preventScroll:!0}),n.setSelectedIndex(c.value),ge(()=>{o.value=!1})))}function I(t){t.preventDefault()}let l=me(g(()=>({as:e.as,type:d.type})),a);return()=>{var t;let r={selected:m.value},{id:T,...k}=e,P={ref:a,onKeydown:s,onMousedown:I,onClick:b,id:T,role:"tab",type:l.value,"aria-controls":(t=h(n.panels.value[c.value]))==null?void 0:t.id,"aria-selected":m.value,tabIndex:m.value?0:-1,disabled:e.disabled?!0:void 0};return z({ourProps:P,theirProps:k,slot:r,attrs:d,slots:p,name:"Tab"})}}}),ke=x({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:d,attrs:p}){let v=N("TabPanels");return()=>{let n={selectedIndex:v.selectedIndex.value};return z({theirProps:e,ourProps:{},slot:n,attrs:p,slots:d,name:"TabPanels"})}}}),xe=x({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-tabs-panel-${ae()}`},tabIndex:{type:Number,default:0}},setup(e,{attrs:d,slots:p,expose:v}){let n=N("TabPanel"),a=y(null);v({el:a,$el:a}),B(()=>n.registerPanel(a)),te(()=>n.unregisterPanel(a));let u=q(W),f=g(()=>{if(u.value){let i=u.value.panels.indexOf(e.id);return i===-1?u.value.panels.push(e.id)-1:i}return-1}),c=g(()=>{let i=n.panels.value.indexOf(a);return i===-1?f.value:i}),m=g(()=>c.value===n.selectedIndex.value);return()=>{var i;let s={selected:m.value},{id:o,tabIndex:b,...I}=e,l={ref:a,id:o,role:"tabpanel","aria-labelledby":(i=h(n.tabs.value[c.value]))==null?void 0:i.id,tabIndex:m.value?b:-1};return!m.value&&e.unmount&&!e.static?G(le,{as:"span",...l}):z({ourProps:l,theirProps:I,slot:s,attrs:d,slots:p,features:_.Static|_.RenderStrategy,visible:m.value,name:"TabPanel"})}}});const Oe=x({components:{HTabGroup:we,HTabList:Se,HTab:$e,HTabPanels:ke,HTabPanel:xe},inheritAttrs:!1,props:{modelValue:{type:Number,default:void 0},orientation:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},defaultIndex:{type:Number,default:0},items:{type:Array,default:()=>[]},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{attrs:d,emit:p}){const v=ue(),n=g(()=>oe({},e.ui,v.ui.tabs)),a=y(),u=y([]),f=y(),c=y(e.modelValue||e.defaultIndex),m=g(()=>ie(n.value.wrapper,d.class));function i(o){var I;const b=(I=u.value[o])==null?void 0:I.$el;b&&(f.value.style.top=`${b.offsetTop}px`,f.value.style.left=`${b.offsetLeft}px`,f.value.style.width=`${b.offsetWidth}px`,f.value.style.height=`${b.offsetHeight}px`)}function s(o){c.value=o,p("change",o),e.modelValue!==void 0&&p("update:modelValue",o),i(o)}return ve(a,()=>{i(c.value)}),ee(()=>e.modelValue,o=>{c.value=o,i(o)}),B(()=>i(c.value)),{attrs:ye(d,["class"]),ui:n,listRef:a,itemRefs:u,markerRef:f,selectedIndex:c,wrapperClass:m,onChange:s}}});function Ae(e,d,p,v,n,a){const u=H("HTab"),f=H("HTabList"),c=H("HTabPanel"),m=H("HTabPanels"),i=H("HTabGroup");return C(),D(i,pe({vertical:e.orientation==="vertical","selected-index":e.selectedIndex,as:"div",class:e.wrapperClass},e.attrs,{onChange:e.onChange}),{default:E(()=>[K(f,{ref:"listRef",class:O([e.ui.list.base,e.ui.list.background,e.ui.list.rounded,e.ui.list.shadow,e.ui.list.padding,e.ui.list.width,e.orientation==="horizontal"&&e.ui.list.height,e.orientation==="horizontal"&&"inline-grid items-center"]),style:de([e.orientation==="horizontal"&&`grid-template-columns: repeat(${e.items.length}, minmax(0, 1fr))`])},{default:E(()=>[V("div",{ref:"markerRef",class:O(e.ui.list.marker.wrapper)},[V("div",{class:O([e.ui.list.marker.base,e.ui.list.marker.background,e.ui.list.marker.rounded,e.ui.list.marker.shadow])},null,2)],2),(C(!0),J(M,null,Q(e.items,(s,o)=>(C(),D(u,{key:o,ref_for:!0,ref:"itemRefs",disabled:s.disabled,as:"template"},{default:E(({selected:b,disabled:I})=>[V("button",{class:O([e.ui.list.tab.base,e.ui.list.tab.background,e.ui.list.tab.height,e.ui.list.tab.padding,e.ui.list.tab.size,e.ui.list.tab.font,e.ui.list.tab.rounded,e.ui.list.tab.shadow,b?e.ui.list.tab.active:e.ui.list.tab.inactive])},[X(e.$slots,"default",{item:s,index:o,selected:b,disabled:I},()=>[Y(Z(s.label),1)])],2)]),_:2},1032,["disabled"]))),128))]),_:3},8,["class","style"]),K(m,{class:O(e.ui.container)},{default:E(()=>[(C(!0),J(M,null,Q(e.items,(s,o)=>(C(),D(c,{key:o,class:O(e.ui.base)},{default:E(({selected:b})=>[X(e.$slots,s.slot||"item",{item:s,index:o,selected:b},()=>[Y(Z(s.content),1)])]),_:2},1032,["class"]))),128))]),_:3},8,["class"])]),_:3},16,["vertical","selected-index","class","onChange"])}const De=fe(Oe,[["render",Ae]]);export{De as default};
